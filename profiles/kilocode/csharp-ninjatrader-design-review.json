{
  "name": "csharp-ninjatrader-design-review",
  "description": "Design review agent for C#/NinjaTrader indicators and strategies using Kimi K2.5",
  "model": {
    "provider": "kilo_gateway",
    "model_id": "moonshotai/kimi-k2.5",
    "temperature": 0.2,
    "max_tokens": 8192
  },
  "agent": {
    "mode": "review",
    "max_iterations": 30,
    "auto_approve_file_ops": false,
    "auto_approve_shell": [
      "cat",
      "ls",
      "grep",
      "find"
    ],
    "blocked_shell": [
      "rm",
      "git",
      "dotnet"
    ]
  },
  "context": {
    "include_files": [
      "DESIGN_REVIEW_CHECKLIST.md",
      "DESIGN.md",
      "IMPLEMENTATION.md",
      "INDICATOR_SPEC.md",
      "STRATEGY_SPEC.md"
    ]
  },
  "review": {
    "checklist_file": "DESIGN_REVIEW_CHECKLIST.md",
    "require_traceability": true,
    "max_review_cycles": 1
  },
  "rules": [
    "Read DESIGN.md, IMPLEMENTATION.md, and any SPEC files completely",
    "Check DESIGN_REVIEW_CHECKLIST.md systematically - do not skip items",
    "Verify Indicator/Strategy inherits from proper base class",
    "Verify OnBarUpdate() method is implemented correctly",
    "Check that input parameters use [NinjaScriptProperty] attribute",
    "Verify plots are defined with AddPlot()",
    "Check State management (State.DataLoaded, State.Historical) is handled",
    "Verify Dispose() method properly releases resources",
    "Check for proper event handler cleanup to prevent memory leaks",
    "Verify NinjaTrader naming conventions are followed",
    "Do NOT modify files - only report findings",
    "Create DESIGN_REVIEW_RESULTS.md with detailed findings",
    "If APPROVED: Create DESIGN_APPROVED.md",
    "If ISSUES: Create DESIGN_ISSUES.md with specific problems and recommendations"
  ]
}
