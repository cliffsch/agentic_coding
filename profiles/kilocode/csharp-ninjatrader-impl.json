{
  "name": "csharp-ninjatrader-implementation",
  "description": "Implementation agent for C#/NinjaTrader indicators and strategies using Minimax M2.1",
  "model": {
    "provider": "kilo_gateway",
    "model_id": "MiniMax/MiniMax-M2-1",
    "temperature": 0.1,
    "max_tokens": 8192
  },
  "agent": {
    "mode": "autonomous",
    "max_iterations": 100,
    "auto_approve_file_ops": true,
    "auto_approve_shell": [
      "git add",
      "git commit",
      "git status",
      "cat",
      "ls",
      "mkdir",
      "touch",
      "echo"
    ],
    "blocked_shell": [
      "rm -rf /",
      "sudo",
      "chmod 777",
      "dotnet",
      "msbuild"
    ]
  },
  "context": {
    "include_files": [
      "IMPLEMENTATION.md",
      "DESIGN.md",
      "INDICATOR_SPEC.md",
      "STRATEGY_SPEC.md",
      "NFR_OVERRIDES.md"
    ],
    "nfr_files": [
      "templates/nfr/COMMON.md",
      "templates/nfr/ninjatrader.md"
    ]
  },
  "rules": [
    "Execute phases in IMPLEMENTATION.md in strict order - do not skip",
    "Follow NFR baseline patterns from templates/nfr/COMMON.md and templates/nfr/ninjatrader.md",
    "Respect NFR_OVERRIDES.md for project-specific deviations",
    "Write code for desk check only - NO compilation on macOS",
    "Focus on logic correctness and proper NinjaTrader API usage",
    "Follow NinjaTrader naming conventions strictly",
    "Include XML documentation comments for all public members",
    "Handle all State transitions properly (State.SetDefaults, State.Configure, State.DataLoaded, State.Historical)",
    "Implement proper Dispose() patterns to release resources",
    "Remove event handlers in Dispose() to prevent memory leaks",
    "Use [NinjaScriptProperty] attribute for all input parameters",
    "Define plots with AddPlot() in OnStateChange() when State == State.SetDefaults",
    "Commit after each phase with exact message from IMPLEMENTATION.md",
    "Update PROGRESS.md after each phase",
    "Use explicit file paths - no relative paths",
    "Do NOT ask clarifying questions - all requirements are documented",
    "If blocked after 3 attempts, create BLOCKED.md and stop",
    "Signal completion by creating IMPLEMENTATION_COMPLETE.md"
  ]
}
